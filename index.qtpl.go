// Code generated by qtc from "index.qtpl". DO NOT EDIT.
// See https://github.com/valyala/quicktemplate for details.

//line index.qtpl:1
package main

//line index.qtpl:3
import (
	qtio422016 "io"

	qt422016 "github.com/valyala/quicktemplate"
)

//line index.qtpl:3
var (
	_ = qtio422016.Copy
	_ = qt422016.AcquireByteBuffer
)

//line index.qtpl:4
type Index struct {
	Tree *Tree

	DjinnServer string
	Group       string
}

//line index.qtpl:13
func streamrenderImages(qw422016 *qt422016.Writer, group string, imgs []*Image) {
//line index.qtpl:13
	qw422016.N().S(` `)
//line index.qtpl:14
	if len(imgs) > 0 {
//line index.qtpl:14
		qw422016.N().S(` <div class="panel"> `)
//line index.qtpl:16
		for i, img := range imgs {
//line index.qtpl:16
			qw422016.N().S(` `)
//line index.qtpl:17
			if i == 0 && img.Group != "" {
//line index.qtpl:17
				qw422016.N().S(` <div class="panel-header"> <h3>`)
//line index.qtpl:19
				qw422016.E().S(img.Group)
//line index.qtpl:19
				qw422016.N().S(`</h3> `)
//line index.qtpl:20
				if img.Group == group {
//line index.qtpl:20
					qw422016.N().S(` <a class="filter filter-active" href="/">`)
//line index.qtpl:21
					qw422016.N().S(`<!-- Generated by IcoMoon.io -->
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="19" height="24" viewBox="0 0 19 24">
<title>filter</title>
<path d="M18.79 3.951c0.134 0.321 0.067 0.696-0.188 0.938l-6.603 6.603v9.938c0 0.348-0.214 0.656-0.522 0.79-0.107 0.040-0.228 0.067-0.335 0.067-0.228 0-0.442-0.080-0.603-0.254l-3.429-3.429c-0.161-0.161-0.254-0.375-0.254-0.603v-6.509l-6.603-6.603c-0.254-0.241-0.321-0.616-0.188-0.938 0.134-0.308 0.442-0.522 0.79-0.522h17.143c0.348 0 0.656 0.214 0.79 0.522z"></path>
</svg>
`)
//line index.qtpl:21
					qw422016.N().S(`</a> `)
//line index.qtpl:22
				} else {
//line index.qtpl:22
					qw422016.N().S(` <a class="filter" href="?group=`)
//line index.qtpl:23
					qw422016.E().S(img.Group)
//line index.qtpl:23
					qw422016.N().S(`">`)
//line index.qtpl:23
					qw422016.N().S(`<!-- Generated by IcoMoon.io -->
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="19" height="24" viewBox="0 0 19 24">
<title>filter</title>
<path d="M18.79 3.951c0.134 0.321 0.067 0.696-0.188 0.938l-6.603 6.603v9.938c0 0.348-0.214 0.656-0.522 0.79-0.107 0.040-0.228 0.067-0.335 0.067-0.228 0-0.442-0.080-0.603-0.254l-3.429-3.429c-0.161-0.161-0.254-0.375-0.254-0.603v-6.509l-6.603-6.603c-0.254-0.241-0.321-0.616-0.188-0.938 0.134-0.308 0.442-0.522 0.79-0.522h17.143c0.348 0 0.656 0.214 0.79 0.522z"></path>
</svg>
`)
//line index.qtpl:23
					qw422016.N().S(`</a> `)
//line index.qtpl:24
				}
//line index.qtpl:24
				qw422016.N().S(` </div> `)
//line index.qtpl:26
			}
//line index.qtpl:26
			qw422016.N().S(` <div class="panel-row"> <div class="left"> <a href="`)
//line index.qtpl:29
			qw422016.E().S(img.Endpoint())
//line index.qtpl:29
			qw422016.N().S(`">`)
//line index.qtpl:29
			qw422016.E().S(img.Name)
//line index.qtpl:29
			qw422016.N().S(`</a> `)
//line index.qtpl:30
			if img.Link != "" {
//line index.qtpl:30
				qw422016.N().S(` <br/><span class="muted">&rarr; `)
//line index.qtpl:31
				qw422016.E().S(img.Link)
//line index.qtpl:31
				qw422016.N().S(`</span> `)
//line index.qtpl:32
			}
//line index.qtpl:32
			qw422016.N().S(` </div> <div class="right muted" title="Last modified">`)
//line index.qtpl:34
			qw422016.E().S(img.ModTime.Format("Mon, 02 Jan 2006"))
//line index.qtpl:34
			qw422016.N().S(`</div> </div> `)
//line index.qtpl:36
		}
//line index.qtpl:36
		qw422016.N().S(` </div> `)
//line index.qtpl:38
	}
//line index.qtpl:38
	qw422016.N().S(` `)
//line index.qtpl:39
}

//line index.qtpl:39
func writerenderImages(qq422016 qtio422016.Writer, group string, imgs []*Image) {
//line index.qtpl:39
	qw422016 := qt422016.AcquireWriter(qq422016)
//line index.qtpl:39
	streamrenderImages(qw422016, group, imgs)
//line index.qtpl:39
	qt422016.ReleaseWriter(qw422016)
//line index.qtpl:39
}

//line index.qtpl:39
func renderImages(group string, imgs []*Image) string {
//line index.qtpl:39
	qb422016 := qt422016.AcquireByteBuffer()
//line index.qtpl:39
	writerenderImages(qb422016, group, imgs)
//line index.qtpl:39
	qs422016 := string(qb422016.B)
//line index.qtpl:39
	qt422016.ReleaseByteBuffer(qb422016)
//line index.qtpl:39
	return qs422016
//line index.qtpl:39
}

//line index.qtpl:41
func streamrenderTree(qw422016 *qt422016.Writer, group string, depth int, t *Tree) {
//line index.qtpl:41
	qw422016.N().S(` `)
//line index.qtpl:42
	if depth == 1 {
//line index.qtpl:42
		qw422016.N().S(` <h2>`)
//line index.qtpl:43
		qw422016.E().S(t.Name())
//line index.qtpl:43
		qw422016.N().S(`</h2> `)
//line index.qtpl:44
	} else if depth == 2 {
//line index.qtpl:44
		qw422016.N().S(` <h3 class="accordion accordion-open muted" data-accordion="`)
//line index.qtpl:45
		qw422016.E().S(t.Name())
//line index.qtpl:45
		qw422016.N().S(`">`)
//line index.qtpl:45
		qw422016.E().S(t.Name())
//line index.qtpl:45
		qw422016.N().S(`</h3> `)
//line index.qtpl:46
	}
//line index.qtpl:46
	qw422016.N().S(` `)
//line index.qtpl:47
	if t.HasChildren() {
//line index.qtpl:47
		qw422016.N().S(` <div data-accordion-body="`)
//line index.qtpl:48
		qw422016.E().S(t.Name())
//line index.qtpl:48
		qw422016.N().S(`"> `)
//line index.qtpl:49
		for _, child := range t.Children() {
//line index.qtpl:49
			qw422016.N().S(` `)
//line index.qtpl:50
			streamrenderTree(qw422016, group, depth+1, child)
//line index.qtpl:50
			qw422016.N().S(` `)
//line index.qtpl:51
		}
//line index.qtpl:51
		qw422016.N().S(` </div> `)
//line index.qtpl:53
	}
//line index.qtpl:53
	qw422016.N().S(` `)
//line index.qtpl:54
	streamrenderImages(qw422016, group, t.Images())
//line index.qtpl:54
	qw422016.N().S(` `)
//line index.qtpl:55
}

//line index.qtpl:55
func writerenderTree(qq422016 qtio422016.Writer, group string, depth int, t *Tree) {
//line index.qtpl:55
	qw422016 := qt422016.AcquireWriter(qq422016)
//line index.qtpl:55
	streamrenderTree(qw422016, group, depth, t)
//line index.qtpl:55
	qt422016.ReleaseWriter(qw422016)
//line index.qtpl:55
}

//line index.qtpl:55
func renderTree(group string, depth int, t *Tree) string {
//line index.qtpl:55
	qb422016 := qt422016.AcquireByteBuffer()
//line index.qtpl:55
	writerenderTree(qb422016, group, depth, t)
//line index.qtpl:55
	qs422016 := string(qb422016.B)
//line index.qtpl:55
	qt422016.ReleaseByteBuffer(qb422016)
//line index.qtpl:55
	return qs422016
//line index.qtpl:55
}

//line index.qtpl:57
func (p *Index) StreamRender(qw422016 *qt422016.Writer) {
//line index.qtpl:57
	qw422016.N().S(` <!DOCTYPE HTML> <html lang="en"> <head> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1" name="viewport"> <title>Djinn CI Images</title> <style type="text/css">`)
//line index.qtpl:64
	qw422016.N().S(`* {margin: 0;padding: 0;}body {font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Sego UI Symbol";font-size: 14px;background: #eee;color: #444;}a {color: #146de0;cursor: pointer;text-decoration: none;}a:hover {text-decoration: underline;}.title {text-align: center;}.logo {margin-top: -5px;margin-right: 30px;margin-bottom: 15px;display: inline-block;vertical-align: middle;width: 0;}.logo .handle {margin-left: -3px;border-style: solid;border-width: 2px 0px 8px 7px;border-color: transparent transparent transparent #cacaca;}.logo .lid {margin-bottom: -20px;margin-left: 13px;border-style: solid;border-width: 5px 0px 7px 5px;border-color: transparent transparent transparent #cacaca;}.logo .lantern {margin-left: -5px;border-style: solid;border-width: 15px 15px 35px 0px;border-color: transparent #cacaca transparent transparent;}h1 {margin-bottom: 15px;}h3 {margin-top: 10px;}.accordion {cursor: pointer;font-style: italic;}.accordion-open:before {content: '-';margin-right: 10px;}.accordion-closed:before {content: '+';margin-right: 10px;}.accordion:hover {color: #8f8f8f;}.tree-header {margin-top: 15px;}ul.tree {margin-left: 30px;}ul.tree li {list-style: none;}.left {float: left;}.right {float: right;}.muted {color: #9f9f9f;}.pill {display: inline-block;text-align: center;padding: 3px;padding-left: 10px;padding-right: 10px;vertical-align: middle;background: #61a0ea;color: #fff;border-radius: 25px;}.pill:hover {text-decoration: none;background: #5090d9;}.panel + .panel {margin-top: 15px;}.panel {background: #fff;border-radius: 3px;box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.1);}.panel-header {border-bottom: solid 1px #e4e4e4;overflow: auto;}.panel-header h3 {padding: 10px;font-weight: 700;float: left;}.panel-header .filter {float: right;display: inline-block;font-size: 10px;box-sizing: border-box;padding: 10px;}.panel-header .filter:hover svg {fill: #afafaf;}.panel-header .filter svg {width: 15px;fill: #e4e4e4;}.panel-header .filter-active svg {fill: #afafaf;}.panel-header .filter-active:hover svg {fill: #e4e4e4;}.panel .panel-body {padding: 15px;}.panel .panel-row {overflow: auto;padding: 10px;padding-left: 15px;padding-right: 15px;}.panel-row + .panel-row {border-top: solid 1px #e4e4e4;}.content {margin: 0 auto;max-width: 800px;padding: 20px;}.col-75 {width: 75%;box-sizing: border-box;}.col-25 {width: 25%;box-sizing: border-box;}.col-left {float: left;padding-right: 5px;}.col-right {float: right;padding-left: 5px;}.overflow {overflow: auto;padding-bottom: 5px;}@media (max-width: 1100px) {.col-75 {margin-bottom: 10px;width: 100%;}.col-25 {margin-bottom: 10px;width: 100%;}.col-left {padding-right: 0px;float: none;}.col-right {padding-left: 0px;float: none;}}`)
//line index.qtpl:64
	qw422016.N().S(`</style> </head> <body> <div class="content"> <div class="title"> <div class="logo"> <div class="handle"></div> <div class="lid"></div> <div class="lantern"></div> </div> <h2>Djinn CI Images</h2> `)
//line index.qtpl:75
	if p.DjinnServer != "" {
//line index.qtpl:75
		qw422016.N().S(` <a target="_blank" href="`)
//line index.qtpl:76
		qw422016.E().S(p.DjinnServer)
//line index.qtpl:76
		qw422016.N().S(`">Back to Djinn CI</a> `)
//line index.qtpl:77
	}
//line index.qtpl:77
	qw422016.N().S(` </div> `)
//line index.qtpl:79
	streamrenderTree(qw422016, p.Group, 0, p.Tree)
//line index.qtpl:79
	qw422016.N().S(` </div> </body> <footer> <script type="text/javascript"> var els = document.querySelectorAll("[data-accordion]"); var tab = {}; for (var i = 0; i < els.length; i++) { var target = els[i].dataset.accordion; tab[target] = document.querySelector("[data-accordion-body="+target+"]"); } for (var i = 0; i < els.length; i++) { els[i].addEventListener("click", function(e) { e.preventDefault(); if (e.target.dataset.accordion in tab) { var el = tab[e.target.dataset.accordion]; el.hidden = !el.hidden; if (el.hidden) { e.target.classList.remove("accordion-open"); e.target.classList.add("accordion-closed"); } else { e.target.classList.remove("accordion-closed"); e.target.classList.add("accordion-open"); } } }); } </script> </footer> </html> `)
//line index.qtpl:116
}

//line index.qtpl:116
func (p *Index) WriteRender(qq422016 qtio422016.Writer) {
//line index.qtpl:116
	qw422016 := qt422016.AcquireWriter(qq422016)
//line index.qtpl:116
	p.StreamRender(qw422016)
//line index.qtpl:116
	qt422016.ReleaseWriter(qw422016)
//line index.qtpl:116
}

//line index.qtpl:116
func (p *Index) Render() string {
//line index.qtpl:116
	qb422016 := qt422016.AcquireByteBuffer()
//line index.qtpl:116
	p.WriteRender(qb422016)
//line index.qtpl:116
	qs422016 := string(qb422016.B)
//line index.qtpl:116
	qt422016.ReleaseByteBuffer(qb422016)
//line index.qtpl:116
	return qs422016
//line index.qtpl:116
}
